"use strict";window.onload=function(){document.getElementById("oscValue").value="1000",document.getElementById("oscRange").value=1e3};for(var onOff=document.querySelector("#onOff"),audioContext=(onOff.addEventListener("click",function(e){"false"===onOff.getAttribute("data-muted")?(gainNode.disconnect(audioContext.destination),gainNodeNoise.disconnect(audioContext.destination),onOff.setAttribute("data-muted","true"),onOff.innerHTML="Play"):(audioContext.resume(),gainNode.connect(audioContext.destination),gainNodeNoise.connect(audioContext.destination),onOff.setAttribute("data-muted","false"),onOff.innerHTML="Stop")}),new(window.AudioContext||window.webkitAudioContext)),oscillator=audioContext.createOscillator(),gainNode=(oscillator.type="sine",oscillator.frequency.value=1e3,oscillator.detune.setValueAtTime(0,audioContext.currentTime),audioContext.createGain()),gainNodeNoise=(gainNode.gain.value=0,oscillator.connect(gainNode),gainNode.connect(audioContext.destination),audioContext.createGain()),shortcuts=(gainNodeNoise.gain.value=0,gainNodeNoise.connect(audioContext.destination),oscillator.start(),document.querySelector("#oscRange").addEventListener("input",function(e){oscillator.frequency.value=e.target.value}),document.getElementsByClassName("shortcut")),shortcutClick=function(){var shortcutAttr=this.getAttribute("data-freq");oscillator.frequency.value=shortcutAttr,oscRange.value=shortcutAttr,oscValue.value=shortcutAttr},i=0;i<shortcuts.length;i++)shortcuts[i].addEventListener("click",shortcutClick,!1);document.querySelector("#volume").addEventListener("input",function(e){"false"===onOff.getAttribute("data-muted")?gainNode.gain.value=.01*e.target.value:gainNode.gain.value=0}),document.querySelector("#detune").addEventListener("input",function(e){oscillator.detune.setValueAtTime(e.target.value,audioContext.currentTime)});for(var radioButtons=document.querySelectorAll('input[type=radio][name = "radio"]'),whiteBufferSize=(radioButtons.forEach(function(radio){return radio.addEventListener("change",function(){return oscillator.type=radio.value})}),2*audioContext.sampleRate),noiseBuffer=audioContext.createBuffer(1,whiteBufferSize,audioContext.sampleRate),output=noiseBuffer.getChannelData(0),_i=0;_i<whiteBufferSize;_i++)output[_i]=2*Math.random()-1;var whiteNoise=audioContext.createBufferSource(),pinkBufferSize=(whiteNoise.buffer=noiseBuffer,whiteNoise.loop=!0,whiteNoise.volume=0,whiteNoise.start(0),4096),pinkNoise=function(){var b1,b2,b3,b4,b5,b6,b0=b1=b2=b3=b4=b5=b6=0,node=audioContext.createScriptProcessor(pinkBufferSize,1,1);return node.onaudioprocess=function(e){for(var output=e.outputBuffer.getChannelData(0),_i2=0;_i2<pinkBufferSize;_i2++){var white=2*Math.random()-1;b0=.99886*b0+.0555179*white,b1=.99332*b1+.0750759*white,b2=.969*b2+.153852*white,b3=.8665*b3+.3104856*white,b4=.55*b4+.5329522*white,b5=-.7616*b5-.016898*white,output[_i2]=b0+b1+b2+b3+b4+b5+b6+.5362*white,output[_i2]*=.11,b6=.115926*white}},node}(),brownBufferSize=4096,brownNoise=function(){var lastOut=0,node=audioContext.createScriptProcessor(brownBufferSize,1,1);return node.onaudioprocess=function(e){for(var output=e.outputBuffer.getChannelData(0),_i3=0;_i3<brownBufferSize;_i3++){var white=2*Math.random()-1;output[_i3]=(lastOut+.02*white)/1.02,lastOut=output[_i3],output[_i3]*=3.5}},node}(),whiteNoiseCheck=document.querySelector("input[name=whiteNoise]"),pinkNoiseCheck=(whiteNoiseCheck.addEventListener("change",function(){this.checked?whiteNoise.connect(gainNodeNoise):whiteNoise.disconnect(gainNodeNoise)}),document.querySelector("input[name=pinkNoise]")),brownNoiseCheck=(pinkNoiseCheck.addEventListener("change",function(){this.checked?pinkNoise.connect(gainNodeNoise):pinkNoise.disconnect(gainNodeNoise)}),document.querySelector("input[name=brownNoise]")),oscLower=(brownNoiseCheck.addEventListener("change",function(){this.checked?brownNoise.connect(gainNodeNoise):brownNoise.disconnect(gainNodeNoise)}),document.querySelector("#noiseVolume").addEventListener("input",function(e){gainNodeNoise.gain.value=.01*e.target.value}),document.querySelector("#oscLower")),oscHigher=document.querySelector("#oscHigher"),oscRange=document.querySelector("#oscRange"),oscValue=document.querySelector("#oscValue"),decreaseOsc=function(){if(!(1<=oscillator.frequency.value))return 1;oscillator.frequency.value=oscillator.frequency.value-1,oscRange.value=oscRange.value-1,oscValue.value=oscValue.value-1},increaseOsc=(oscLower.addEventListener("click",decreaseOsc),function(){oscillator.frequency.value<=2e4&&(oscillator.frequency.value=oscillator.frequency.value+1,oscRange.value=parseInt(oscRange.value)+1,oscValue.value=parseInt(oscValue.value)+1)});oscHigher.addEventListener("click",increaseOsc);